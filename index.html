<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Baumans">
</head>
<body>
    <div class="container">
        <div class="alarm-section">
            <div class="clock-section">
                <div class="clock">
                    <img src="clock.png" width="135px" height="55px">
                </div>
                <div class="change-message">
                    <span>The message and image will change according to time</span>
                    <div class="arrow-right"></div>
                </div>
            </div>

            <div class="time-table">
                <div class="timing">
                    <img src="sun.png" width="34px" height="34px">
                    <span>Set wake up time</span>
                    <select name="times" id="wake-up-time-table">
                        <option>12AM - 1AM</option>
                        <option>1AM - 2AM</option>
                        <option>2AM - 3AM</option>
                        <option>3AM - 4AM</option>
                        <option>4AM - 5AM</option>
                        <option>5AM - 6AM</option>
                        <option>6AM - 7AM</option>
                        <option>8AM - 9AM</option>
                        <option>9AM - 10AM</option>
                        <option>10AM - 11AM</option>
                        <option>11AM - 12PM</option>
                        <option>12PM - 1PM</option>
                        <option>1PM - 2PM</option>
                        <option>2PM - 3PM</option>
                        <option>3PM - 4PM</option>
                        <option>4PM - 5PM</option>
                        <option>5PM - 6PM</option>
                        <option>6PM - 7PM</option>
                        <option>7PM - 8PM</option>
                        <option>8PM - 9PM</option>
                        <option>9PM - 10PM</option>
                        <option>10PM - 11PM</option>
                        <option>11PM - 12AM</option>
                    </select>
                </div>
                <div class="separation"></div>
                <div class="timing">
                    <img src="spoons.png" width="34px" height="34px">
                    <span>Set lunch time</span>
                    <select name="times" id="lunch-time-table">
                        <option>12AM - 1AM</option>
                        <option>1AM - 2AM</option>
                        <option>2AM - 3AM</option>
                        <option>3AM - 4AM</option>
                        <option>4AM - 5AM</option>
                        <option>5AM - 6AM</option>
                        <option>6AM - 7AM</option>
                        <option>8AM - 9AM</option>
                        <option>9AM - 10AM</option>
                        <option>10AM - 11AM</option>
                        <option>11AM - 12PM</option>
                        <option>12PM - 1PM</option>
                        <option>1PM - 2PM</option>
                        <option>2PM - 3PM</option>
                        <option>3PM - 4PM</option>
                        <option>4PM - 5PM</option>
                        <option>5PM - 6PM</option>
                        <option>6PM - 7PM</option>
                        <option>7PM - 8PM</option>
                        <option>8PM - 9PM</option>
                        <option>9PM - 10PM</option>
                        <option>10PM - 11PM</option>
                        <option>11PM - 12AM</option>
                    </select>
                </div>
                <div class="separation"></div>
                <div class="timing">
                    <img src="nap.png" width="34px" height="34px">
                    <span>Set nap time</span>
                    <select name="times" id="nap-time-table">
                        <option>12AM - 1AM</option>
                        <option>1AM - 2AM</option>
                        <option>2AM - 3AM</option>
                        <option>3AM - 4AM</option>
                        <option>4AM - 5AM</option>
                        <option>5AM - 6AM</option>
                        <option>6AM - 7AM</option>
                        <option>8AM - 9AM</option>
                        <option>9AM - 10AM</option>
                        <option>10AM - 11AM</option>
                        <option>11AM - 12PM</option>
                        <option>12PM - 1PM</option>
                        <option>1PM - 2PM</option>
                        <option>2PM - 3PM</option>
                        <option>3PM - 4PM</option>
                        <option>4PM - 5PM</option>
                        <option>5PM - 6PM</option>
                        <option>6PM - 7PM</option>
                        <option>7PM - 8PM</option>
                        <option>8PM - 9PM</option>
                        <option>9PM - 10PM</option>
                        <option>10PM - 11PM</option>
                        <option>11PM - 12AM</option>
                    </select>
                </div>
                <div class="separation"></div>
                <div class="timing">
                    <img src="nap.png" width="34px" height="34px">
                    <span>Set night time</span>
                    <select name="times" id="night-time-table">
                        <option>12AM - 1AM</option>
                        <option>1AM - 2AM</option>
                        <option>2AM - 3AM</option>
                        <option>3AM - 4AM</option>
                        <option>4AM - 5AM</option>
                        <option>5AM - 6AM</option>
                        <option>6AM - 7AM</option>
                        <option>8AM - 9AM</option>
                        <option>9AM - 10AM</option>
                        <option>10AM - 11AM</option>
                        <option>11AM - 12PM</option>
                        <option>12PM - 1PM</option>
                        <option>1PM - 2PM</option>
                        <option>2PM - 3PM</option>
                        <option>3PM - 4PM</option>
                        <option>4PM - 5PM</option>
                        <option>5PM - 6PM</option>
                        <option>6PM - 7PM</option>
                        <option>7PM - 8PM</option>
                        <option>8PM - 9PM</option>
                        <option>9PM - 10PM</option>
                        <option>10PM - 11PM</option>
                        <option>11PM - 12AM</option>
                    </select>
                </div>
            </div>

            <div id="messages"></div>

            <div class="set-alarm-with-time">
                <button id="set-alarm">
                    <span>Set Alarm</span>
                </button>

                <div class="change-image">
                    <span>Time will be updated here after clicking on "Set Alarm"</span>
                    <div class="arrow-up"></div>
                </div>

                <div id="time-showcase">
                    <p>
                        <span>Wake Up Time : </span>
                        <span>Set Time</span>
                    </p>
                    <p>
                        <span>Lunch Time : </span>
                        <span>Set Time</span>
                    </p>
                    <p>
                        <span>Nap Time : </span>
                        <span>Set Time</span>
                    </p>
                    <p>
                        <span>Night Time : </span>
                        <span>Set Time</span>
                    </p>
                </div>
            </div>
        </div>
    
        <div class="message-section">
            <div class="time">
                <span>TIME</span>
                <div class="scheduled-time">
                    <div id="hours" class="time-count">
                        <p></p>
                        <p>hours</p>
                    </div>
                    <span class="colon">:</span>
                    <div id="minute" class="time-count">
                        <p></p>
                        <p>mins</p>
                    </div>
                    <span class="colon">:</span>
                    <div id="seconds" class="time-count">
                        <p></p>
                        <p>secs</p>
                    </div>
                </div>
                <div id="am-pm"></div>
            </div>

            <div class="white-background-time"></div>

            <div class="purple-background-time"></div>

            <div id="healthy-message">Take care of yourself</div>

            <div id="healthy-image">
                <img src="./Take-care-of-your-health-messages.jpg" width="500px" height="350px">
            </div>
        </div>
    </div>

    <script>

        const d = new Date();

        //Section for clock timing
        function timerFunction() {
            let hours   = document.getElementById('hours').getElementsByTagName('p');
            let minutes = document.getElementById('minute').getElementsByTagName('p');
            let seconds = document.getElementById('seconds').getElementsByTagName('p');
            let amPm    = document.getElementById('am-pm');

            let hour = d.getHours();
            hours[0].innerText = hour % 12 || 12;

            let min = d.getMinutes();
            minutes[0].innerText = min;

            let sec = d.getSeconds();
            seconds[0].innerText = sec;

            let timeUnit = hour >= 12 ? 'PM' : 'AM';
            amPm.innerText = timeUnit;

            setMessage(hour % 12 || 12, timeUnit);
        }

        setInterval(function() {
            timerFunction();
        },1000)

        //Section to set the wake up time in table
        let wakeUpTimeTable = document.getElementById('wake-up-time-table');

        //Section to set the lunch time in table
        let lunchTimeTable = document.getElementById('lunch-time-table');

        //Section to set the nap time in table
        let napTimeTable = document.getElementById('nap-time-table');

        //Section to set the nap time in table
        let nightTimeTable = document.getElementById('night-time-table');

        //Set alarm btn 
        let setBtn = document.getElementById('set-alarm');
        let timeTableArray = [];

        //Section to set the time table
        function timeTable(timeEventArray) {
            //event.target -->it gets you the targeted element
            //event.target.value --> it will give u the value of the selected option
            //event.target.selectedOptions will give you the collection of all the options that you have
            //selected
            let array = document.getElementById('time-showcase').getElementsByTagName('p');
            for(let i =0;i<array.length;i++) {
                for(let j =0;j<timeEventArray.length;j++) {
                    if(array[i].getElementsByTagName('span')[0].innerText === timeEventArray[j].timeText) {
                        array[i].getElementsByTagName('span')[1].innerText = timeEventArray[j].timeEvent;
                    }
                }
            }

            let hour = d.getHours();
            let timeUnit = hour >= 12 ? 'PM' : 'AM';
            let healthyMessage  = document.getElementById('healthy-message');
            let healthyImage    = document.getElementById('healthy-image').getElementsByTagName('img');

            for(let i=0;i<timeEventArray.length;i++) {
                if(timeEventArray[i].timeEvent.split(" ")[0].includes(hour % 12 || 12) && timeEventArray[i].timeEvent.split(" ")[0].includes(timeUnit)) {
                    if(timeEventArray[i].timeText === "Wake Up Time : ") {
                        healthyMessage.innerText = 'GRAB SOME HEALTHY BREAKFAST';
                        healthyImage[0].src = 'first-healthy-image.png';
                    } else if(timeEventArray[i].timeText === "Lunch Time : ") {
                        healthyMessage.innerText = `LET'S HAVE SOME LUNCH !!`;
                        healthyImage[0].src = 'lunch.png';
                    } else if(timeEventArray[i].timeText === "Nap Time : ") {
                        healthyMessage.innerText = 'STOP YAWNING, GET SOME TEA.. ITS JUST EVENING!';
                        healthyImage[0].src = 'cup.png';
                    } else if(timeEventArray[i].timeText === "Night Time : ") {
                        healthyMessage.innerText = 'CLOSE YOUR EYES AND GO TO SLEEP';
                        healthyImage[0].src = 'sleep.png';
                    } else {
                        healthyMessage.innerText = 'Take care of yourself';
                        healthyImage[0].src = 'Take-care-of-your-health-messages.jpg';
                    }
                }
            }
        }

        wakeUpTimeTable.addEventListener("change", function(event) {
            let obj = {
                timeText: document.getElementById('time-showcase').getElementsByTagName('p')[0].getElementsByTagName('span')[0].innerText,
                timeEvent: event.target.selectedOptions[0].innerText
            }

            timeTableArray.push(obj);
        });

        lunchTimeTable.addEventListener("change", function(event){
            let obj = {
                timeText: document.getElementById('time-showcase').getElementsByTagName('p')[1].getElementsByTagName('span')[0].innerText,
                timeEvent: event.target.selectedOptions[0].innerText
            }

            timeTableArray.push(obj);
        });

        napTimeTable.addEventListener("change", function(event){
            let obj = {
                timeText: document.getElementById('time-showcase').getElementsByTagName('p')[2].getElementsByTagName('span')[0].innerText,
                timeEvent: event.target.selectedOptions[0].innerText
            }

            timeTableArray.push(obj);
        });

        nightTimeTable.addEventListener("change", function(event){
            let obj = {
                timeText: document.getElementById('time-showcase').getElementsByTagName('p')[3].getElementsByTagName('span')[0].innerText,
                timeEvent: event.target.selectedOptions[0].innerText
            }

            timeTableArray.push(obj);
        });

        setBtn.addEventListener('click', function() {
            timeTable(timeTableArray);
        });

        //Section to set the messages
        function setMessage(hour, timeUnit) {
            let message         = document.getElementById('messages');

            if((hour >=10 || hour < 12) && timeUnit === 'AM') {
                message.innerText = 'GOOD MORNING!! WAKE UP !!';
            } else if((hour >= 12 || hour < 4) && timeUnit === 'PM') {
                message.innerText = 'GOOD AFTERNOON !! TAKE SOME SLEEP';
            } else if((hour >=4 && hour < 8) && timeUnit === 'PM') {
                message.innerText = 'GOOD EVENING !!';
            } else {
                message.innerText = 'GOOD NIGHT !!';
            }
        }
    </script>
</body>
</html>